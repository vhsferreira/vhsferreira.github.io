
<!doctype html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>
      The Weather Now! | Get Forecast
    </title>
  <meta name="author" content="Vitor Ferreira">
  <meta name="description" content="Get daily weather updates for your City!">
  <!-- external style references in the proper cascading order -->    
  <link href="https://fonts.googleapis.com/css?family=#" rel="stylesheet">  <!-- Google API font reference -->
  <link href="css/normalize.css" rel="stylesheet"> <!-- normalize useragent/browser defaults -->
  <link href="css/main-7.css" rel="stylesheet">    <!-- default styles - small/phone views -->
  <link href="css/medium-7.css" rel="stylesheet">  <!-- medium/tablet views -->
  <link href="css/large-7.css" rel="stylesheet">   <!-- large/wide/desktop views --> 
  <link href="css/menu.css" rel="stylesheet">
  <link href="css/form.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Bungee+Inline" rel="stylesheet">
</head>
    
<body>

  <header>
    <img src="images/logo.png" alt="Site Logo" align="middle">
      <div>
        <h1>THE WEATHER NOW!</h1>
      <div class="subheading"><h2>Get Forecast</h2></div>
      </div>
  </header>

  <!-- site navigation use placeholder references -->
  <nav>
      <div class="topnav" id="myTopnav">
  <a href="home.html" class="active">Home</a>
  <a href="franklin-7.html">Franklin</a>
  <a href="greenville.html">Greenville</a>
  <a href="springfield.html">Springfield</a>
  <a href="stormcenter.html">Storm Center</a>
  <a href="gallery-7.html">Gallery</a>
  <a href="javascript:void(0);" style="font-size:15px;" class="icon" onclick="myFunction()">&#9776;</a>
</div>
      <div style="padding-left:16px">
  <br>
</div>
      
  </nav>
    
    <!-- Main -->
    
  <main id="mainJson">
      <section id="json"></section>
  </main>
    
    <!-- Footer -->
    
  <footer>
    <aside>
      <h3>1188 Weather street, Wonderland, VH - info@weathernow.com - (818) 834-2345</h3>
    </aside>
    <p class="footer-bar">&copy;2018 All Rights Reserved | The Weather Now! | <span id="currentdate">Current Date Placeholder</span></p>
  </footer>

  <script src="js/hamburger.js"></script>
  <script src="js/currentdate.js"></script>
  <script src="js/windchill.js"></script>
    
  <script>
	var section = document.querySelector('section');
	var requestURL = 'https://byui-cit230.github.io/weather/data/towndata.json';
    var request = new XMLHttpRequest();
    request.open('GET', requestURL);
    request.responseType = 'json';
    request.send();
    request.onload = function() {
      var towns = request.response;
      fillTowns(towns);
    }
	function fillTowns(JsonObj){
	var coso = JsonObj['towns'];
	
	for(var i = 0; i < coso.length; i++) {
	if (i != 2){
        var myArticle = document.createElement('article');
        var myH2 = document.createElement('h2');
        var myPara1 = document.createElement('p');
        var myPara2 = document.createElement('p');
        var myPara3 = document.createElement('p');
		var myPara4 = document.createElement('p');
        var myList = document.createElement('ul');
        myH2.textContent = coso[i].name;
        myPara1.textContent = 'Motto: ' + coso[i].motto;
        myPara2.textContent = 'Year Founded: ' + coso[i].yearFounded;
        myPara3.textContent = 'Average Rain Fall:' + coso[i].averageRainfall;
		myPara4.textContent = 'Events:';
       var eventos = coso[i].events;
        for(var j = 0; j < eventos.length; j++) {
          var listItem = document.createElement('li');
          listItem.textContent = eventos[j];
          myList.appendChild(listItem);
        }
        myArticle.appendChild(myH2);
        myArticle.appendChild(myPara1);
        myArticle.appendChild(myPara2);
        myArticle.appendChild(myPara3);
		myArticle.appendChild(myPara4);
		myArticle.appendChild(myList);
        section.appendChild(myArticle); 
      }
	  }
	}
  </script>

</body>
</html>